{{define "projects-content"}}
<section class="section relative">
    <div class="container">
        <!-- Page Header -->
        <div class="section-header relative">
            <!-- xiaoOS Status Bar -->
            <div class="absolute top-0 right-0">
                <div class="nexus-status-bar">
                    DATABASE_ACCESS: AUTHORIZED | CLEARANCE_LEVEL: 3
                </div>
            </div>
            
            <div class="nexus-header" style="margin-bottom: 32px;">PROJECT DATABASE</div>
            <h1 class="section-title" data-text="DEVELOPMENT ARCHIVE">
                DEVELOPMENT <span class="highlight">ARCHIVE</span>
            </h1>
            <p class="section-description">
                Classified development records and project documentation
            </p>
        </div>

        <!-- Database Stats -->
        <div class="status-grid" style="margin-bottom: 64px;">
            <div class="status-item">
                <div class="data-stat text-cyan-400">{{len .Projects}}</div>
                <div class="data-stat-label">Total Projects</div>
            </div>
            
            <div class="status-item">
                <div class="data-stat text-orange-500">6</div>
                <div class="data-stat-label">Technologies</div>
            </div>
            
            <div class="status-item">
                <div class="data-stat text-green-400">100%</div>
                <div class="data-stat-label">Success Rate</div>
            </div>
            
            <div class="status-item">
                <div class="data-stat text-white">2024</div>
                <div class="data-stat-label">Latest Build</div>
            </div>
        </div>

        <!-- Filter Controls -->
        <div class="nexus-panel" style="margin-bottom: 48px;">
            <div class="panel-header">FILTER CONTROLS</div>
            
            <div class="nexus-actions" style="margin-top: 16px; justify-content: center;">
                <button class="nexus-btn nexus-btn-secondary filter-btn active" data-filter="all">ALL PROJECTS</button>
                <button class="nexus-btn nexus-btn-secondary filter-btn" data-filter="web">WEB DEV</button>
                <button class="nexus-btn nexus-btn-secondary filter-btn" data-filter="mobile">MOBILE</button>
                <button class="nexus-btn nexus-btn-secondary filter-btn" data-filter="ai">AI/ML</button>
                <button class="nexus-btn nexus-btn-secondary filter-btn" data-filter="security">SECURITY</button>
            </div>
        </div>

        <!-- Terminal Output -->
        <div class="nexus-terminal" style="margin-bottom: 48px;">
            <div class="terminal-line">
                <span class="terminal-prompt">root@xiaoos:~$</span> query_project_database --status=active
            </div>
            <div class="terminal-line">
                Scanning project archives<span class="terminal-pulse">...</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-success">‚úì</span> Found {{len .Projects}} active projects
            </div>
            <div class="terminal-line">
                <span class="terminal-success">‚úì</span> Security clearance verified
            </div>
            <div class="terminal-line">
                <span class="terminal-highlight">></span> Displaying results <span class="terminal-pulse">‚ñà</span>
            </div>
        </div>

        <!-- Projects Grid -->
        <div class="projects-container">
            <div class="projects-grid">
                {{range .Projects}}
                <div class="project-card" data-category="{{.ID}}">
                <div class="nexus-header">PROJECT {{.ID}}</div>
                <div class="project-content">
                    <!-- Project Visual -->
                    <div class="project-visual">
                        {{if .Image}}
                        <img src="{{.Image}}" alt="{{.Title}}" style="width: 100%; height: 100%; object-fit: cover;">
                        {{else}}
                        <div style="color: #666666; font-size: 24px;">üìÅ</div>
                        {{end}}
                    </div>
                    
                    <!-- Project Info -->
                    <div class="project-title" data-text="{{.Title}}">{{.Title}}</div>
                    <div class="project-description">{{.Description}}</div>
                    
                    <!-- Tech Stack -->
                    <div class="tech-stack">
                        <div class="tech-label">TECHNOLOGIES</div>
                        <div class="tech-tags">
                            {{range .Technologies}}
                            <span class="tech-tag">{{.}}</span>
                            {{end}}
                        </div>
                    </div>
                    
                    <!-- Project Links -->
                    <div class="project-links">
                        {{if .GitHubURL}}
                        <a href="{{.GitHubURL}}" target="_blank" rel="noopener noreferrer" class="project-link">
                            SOURCE CODE
                        </a>
                        {{end}}
                        {{if .LiveURL}}
                        <a href="{{.LiveURL}}" target="_blank" rel="noopener noreferrer" class="project-link demo">
                            LIVE DEMO
                        </a>
                        {{end}}
                    </div>
                    
                    <!-- Project Status -->
                    <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid #333333; display: flex; justify-content: space-between; align-items: center;">
                        <div style="font-size: 12px;">
                            <span style="color: #ffffff;">STATUS:</span>
                            <span class="status-online">DEPLOYED</span>
                        </div>
                        <div style="font-size: 12px; color: #cccccc;">
                            {{.Date.Format "2006-01-02"}}
                        </div>
                    </div>
                </div>
            </div>
            {{end}}
            </div>
        </div>

        <!-- Database Footer -->
        <div style="text-align: center; margin-top: 64px; padding: 32px; border-top: 1px solid #333333;">
            <div style="color: #cccccc; font-size: 14px; margin-bottom: 8px;">
                PROJECT DATABASE ACCESS LOG
            </div>
            <div style="color: #666666; font-size: 12px;">
                Last Updated: {{.Year}}-09-12 | Access Level: <span class="status-online">AUTHORIZED</span>
            </div>
        </div>
    </div>
</section>

<script>
// Project Filter Functionality
document.addEventListener('DOMContentLoaded', function() {
    const filterButtons = document.querySelectorAll('.filter-btn');
    const projectCards = document.querySelectorAll('.project-card');
    
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            const filter = this.getAttribute('data-filter');
            
            // Update active button
            filterButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            
            // Filter projects
            projectCards.forEach(card => {
                if (filter === 'all') {
                    card.style.display = 'block';
                } else {
                    const category = card.getAttribute('data-category');
                    if (category && category.toLowerCase().includes(filter)) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                }
            });
        });
    });
});
</script>
{{end}}